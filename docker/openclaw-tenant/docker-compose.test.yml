version: '3.8'

services:
  winston-tenant-test:
    build:
      context: .
      dockerfile: Dockerfile
    environment:
      - TENANT_ID=test-tenant-001
      - WINSTON_SIDECAR_TOKEN=test-token-123
      - NODE_ENV=development
    volumes:
      - tenant-data:/data
    ports:
      - "18789:18789"  # OpenClaw gateway
      - "18790:18790"  # Winston sidecar API
    restart: unless-stopped

volumes:
  tenant-data:
    driver: local
